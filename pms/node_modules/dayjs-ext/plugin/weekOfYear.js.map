{"version":3,"file":"weekOfYear.js","sources":["../src/constant.js","../src/plugin/weekOfYear/index.js"],"sourcesContent":["export const SECONDS_A_MINUTE = 60\nexport const SECONDS_A_HOUR = SECONDS_A_MINUTE * 60\nexport const SECONDS_A_DAY = SECONDS_A_HOUR * 24\nexport const SECONDS_A_WEEK = SECONDS_A_DAY * 7\n\nexport const MILLISECONDS_A_SECOND = 1e3\nexport const MILLISECONDS_A_MINUTE = SECONDS_A_MINUTE * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_HOUR = SECONDS_A_HOUR * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_DAY = SECONDS_A_DAY * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_WEEK = SECONDS_A_WEEK * MILLISECONDS_A_SECOND\n\n// English locales\nexport const MS = 'millisecond'\nexport const S = 'second'\nexport const MIN = 'minute'\nexport const H = 'hour'\nexport const D = 'day'\nexport const W = 'week'\nexport const M = 'month'\nexport const Q = 'quarter'\nexport const Y = 'year'\nexport const DATE = 'date'\n\nexport const FORMAT_DEFAULT = 'YYYY-MM-DDTHH:mm:ssZ'\n\n// regex\nexport const REGEX_PARSE = /^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})(.*?(\\d{1,2}):(\\d{1,2}):(\\d{1,2}))?.?(\\d{1,3})?$/\nexport const REGEX_FORMAT = /\\[.*?\\]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g\n\nexport const en = {\n  name: 'en',\n  weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n  months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_')\n}\n","import { MS, Y, D, W } from '../../constant'\n\nexport default (o, c, d) => {\n  const proto = c.prototype\n  proto.week = function () {\n    const endOfYear = this.endOf(Y)\n    if (endOfYear.day() !== 6 && this.month() === 11 && (31 - this.date()) <= endOfYear.day()) {\n      return 1\n    }\n    const startOfYear = d(this.$d).startOf(Y)\n    const compareDay = startOfYear.subtract(startOfYear.day(), D).subtract(1, MS)\n    const diffInWeek = this.diff(compareDay, W, true)\n    return Math.ceil(diffInWeek)\n  }\n}\n"],"names":["Y","o","c","d","prototype","week","endOfYear","this","endOf","day","month","date","startOfYear","$d","startOf","compareDay","subtract","diffInWeek","diff","Math","ceil"],"mappings":"mMAYO,IAQMA,EAAI,uBClBDC,EAAGC,EAAGC,GACND,EAAEE,UACVC,KAAO,eACLC,EAAYC,KAAKC,MAAMR,MACL,IAApBM,EAAUG,OAAgC,KAAjBF,KAAKG,SAAmB,GAAKH,KAAKI,QAAWL,EAAUG,aAC3E,MAEHG,EAAcT,EAAEI,KAAKM,IAAIC,QAAQd,GACjCe,EAAaH,EAAYI,SAASJ,EAAYH,MDMvC,OCNiDO,SAAS,EDEzD,eCDRC,EAAaV,KAAKW,KAAKH,EDMhB,QCN+B,UACrCI,KAAKC,KAAKH"}